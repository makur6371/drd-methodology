// DRD AI 助手配置

export let config = {
  // API 配置
  api: {
    baseUrl: '',
    apiKey: '',
    model: ''
  },
  
  // 对话配置
  conversation: {
    temperature: 0.7,
    maxTokens: 2000,
    systemPrompt: '你是一个专业的项目规划助手，擅长使用对话精炼开发法（DRD）帮助用户将模糊的项目愿景转化为可执行的方案。'
  },
  
  // DRD 阶段定义
  stages: {
    1: {
      name: '愿景澄清',
      description: '明确项目定位和核心价值',
      systemPrompt: `现在是 DRD 方法论的第 1 阶段：愿景澄清。
你的目标是帮助用户明确项目定位和核心价值。
请围绕以下问题引导用户：
1. 用户想做什么？（项目愿景）
2. 为什么要做这个项目？（痛点分析）
3. 有什么对标项目吗？
4. 核心价值是什么？

请通过对话引导用户思考，并从用户的回答中提炼关键信息。`,
      keyQuestions: [
        '你想做什么？',
        '为什么做这个项目？',
        '有什么对标项目吗？',
        '核心价值是什么？'
      ],
      outputs: ['项目定位', '核心价值', '对标项目']
    },
    2: {
      name: '基础调研',
      description: '了解现有技术和竞品',
      systemPrompt: `现在是 DRD 方法论的第 2 阶段：基础调研。
你的目标是帮助用户了解现有技术和竞品。
请引导用户思考：
1. 对标项目的架构是怎样的？
2. 有哪些竞品？
3. 现有技术路线是什么？
4. 存在哪些痛点？

请结合用户在第 1 阶段确定的项目定位，进行有针对性的调研指导。`,
      keyQuestions: [
        '对标项目的架构是怎样的？',
        '有哪些竞品？',
        '现有技术路线是什么？',
        '存在哪些痛点？'
      ],
      outputs: ['技术路线', '竞品分析', '痛点识别']
    },
    3: {
      name: '深度设计',
      description: '设计核心解决方案',
      systemPrompt: `现在是 DRD 方法论的第 3 阶段：深度设计。
你的目标是帮助用户设计核心解决方案。
请引导用户思考：
1. 核心概念是什么？
2. 如何实现？
3. 有什么技术挑战？
4. 成本如何控制？

请结合前两个阶段的调研结果，提出具体的技术方案。`,
      keyQuestions: [
        '核心概念是什么？',
        '如何实现？',
        '有什么技术挑战？',
        '成本如何控制？'
      ],
      outputs: ['技术方案', '架构设计', '成本控制']
    },
    4: {
      name: '需求精炼',
      description: '将抽象需求转化为可执行指标',
      systemPrompt: `现在是 DRD 方法论的第 4 阶段：需求精炼。
你的目标是帮助用户将抽象需求转化为可执行的具体指标。
请引导用户思考：
1. 具体要求是什么？
2. 指标如何量化？
3. 质量如何把控？
4. 如何自动修复？

请帮助用户将模糊的需求转化为可量化、可验证的具体指标。`,
      keyQuestions: [
        '具体要求是什么？',
        '指标如何量化？',
        '质量如何把控？',
        '如何自动修复？'
      ],
      outputs: ['量化指标', '技术方案', '质量控制']
    },
    5: {
      name: '方案固化',
      description: '形成完整的可执行方案',
      systemPrompt: `现在是 DRD 方法论的第 5 阶段：方案固化。
你的目标是帮助用户形成完整的可执行方案。
请引导用户思考：
1. 文档结构是怎样的？
2. 命名规范是什么？
3. 开发指令如何？
4. 验收标准如何？

请帮助用户整理完整的开发方案，包括文档结构、命名规范、开发计划和验收标准。`,
      keyQuestions: [
        '文档结构是怎样的？',
        '命名规范是什么？',
        '开发指令如何？',
        '验收标准如何？'
      ],
      outputs: ['完整方案文档', '命名规范', '开发指令']
    }
  }
};

// 保存配置
export function saveConfig(newConfig) {
  config = { ...config, ...newConfig };
}

// 获取配置
export function getConfig() {
  return config;
}

// 获取阶段信息
export function getStageInfo(stageNum) {
  return config.stages[stageNum];
}