# DRD AI 助手

## 🎯 简介

DRD AI 助手是一个基于**对话精炼开发法 (DRD)** 的 AI 驱动项目规划工具。通过真实的 AI API 对话，帮助你将模糊的项目愿景转化为可执行的开发方案。

## ✨ 核心功能

- 🔌 **真实 API 调用** - 支持兼容 OpenAI 格式的任意 API
- 🤖 **智能对话** - AI 引导完成 5 个阶段的深度对话
- 📊 **上下文管理** - 自动管理对话历史和阶段上下文
- 📄 **方案生成** - 自动生成完整的项目方案文档
- 💾 **跨阶段传递** - 每个阶段的结果自动传递到下一阶段

## 🚀 快速开始

### 环境要求

- Node.js 14+
- 兼容 OpenAI 格式的 API（OpenAI、Azure、国内 API 等）

### 安装运行

```bash
# 进入项目目录
cd drd-ai-assistant

# 运行程序
node index.js
```

## 📖 使用流程

### 1. 配置 API

程序启动后会提示你配置 API：

```
🔧 API 配置
============================================================

请配置你的 AI API（兼容 OpenAI 格式）

API Base URL (例如: https://api.openai.com): 
API Key: 

正在测试连接并加载模型列表...

✅ 连接成功！

可用模型列表：

  1. gpt-4
  2. gpt-3.5-turbo
  3. gpt-4-turbo-preview

请选择模型（输入编号，默认选择第一个）: 

✅ 已选择模型: gpt-4
```

### 2. 开始项目规划

输入项目名称，程序会引导你完成 5 个阶段的对话：

```
🚀 开始 DRD 流程
============================================================

请输入项目名称: 我的AI项目

🎯 项目: 我的AI项目

即将开始 5 个阶段的对话...

按回车键开始...
```

### 3. 对话阶段

每个阶段都会进行深度对话：

```
📝 阶段 1: 愿景澄清
────────────────────────────────────────────
📋 明确项目定位和核心价值

🤖 AI: 📝 阶段 1: 愿景澄清

明确项目定位和核心价值

让我们开始吧！请告诉我关于你的项目，我会引导你完成这个阶段的关键问题。

💬 你: 我想开发一个AI助手

🤖 AI: 正在思考...

🤖 AI: 很好！能告诉我更多细节吗？这个AI助手主要用于什么场景？

💬 提示: 输入 "done" 完成阶段，输入 "exit" 退出
```

### 4. 完成阶段

当对话充分后，输入 `done` 完成当前阶段：

```
💬 你: done

✅ 完成当前阶段

✅ 阶段 1 完成！即将进入阶段 2...

按回车键继续...
```

### 5. 生成方案文档

完成所有 5 个阶段后，程序会生成完整的项目方案文档：

```
📄 生成项目方案文档
============================================================

📊 项目方案文档已生成！

文档预览（前 500 字）：

# 我的AI项目 - DRD 项目方案

**生成时间**: 2026-02-28 23:30:00
**方法论**: 对话精炼开发法 (DRD)

---

📋 目录

1. [项目概述](#项目概述)
...

是否保存到文件？(y/n): y

请输入文件名（默认: project-solution.md）: my-ai-project.md

✅ 文档已保存到: my-ai-project.md
```

## 🔄 DRD 5 个阶段

| 阶段 | 名称 | 描述 |
|------|------|------|
| 1 | 愿景澄清 | 明确项目定位和核心价值 |
| 2 | 基础调研 | 了解现有技术和竞品 |
| 3 | 深度设计 | 设计核心解决方案 |
| 4 | 需求精炼 | 将抽象需求转化为可执行指标 |
| 5 | 方案固化 | 形成完整的可执行方案 |

## 🔧 API 配置示例

### OpenAI

```
API Base URL: https://api.openai.com
API Key: sk-...
```

### Azure OpenAI

```
API Base URL: https://your-resource.openai.azure.com
API Key: your-azure-api-key
```

### 国内兼容 API（如通义千问、文心一言等）

```
API Base URL: https://your-api-endpoint.com
API Key: your-api-key
```

## 💡 使用技巧

### 对话技巧

1. **充分表达** - 尽可能详细地描述你的想法
2. **主动提问** - 可以向 AI 提出问题寻求建议
3. **反复迭代** - 可以在一个阶段内进行多轮对话
4. **适时完成** - 当信息充分时，输入 `done` 完成阶段

### 上下文管理

- 每个阶段的对话历史会被保留
- 阶段总结会自动传递到下一阶段
- AI 会基于之前的对话内容提供连贯的建议

### 命令快捷键

- `done` - 完成当前阶段
- `exit` - 退出当前阶段或程序

## 📊 方案文档结构

生成的方案文档包含以下部分：

1. **项目概述** - 项目简介和核心价值
2. **阶段1: 愿景澄清** - 项目定位、核心价值、对标项目
3. **阶段2: 基础调研** - 技术路线、竞品分析、痛点识别
4. **阶段3: 深度设计** - 技术方案、架构设计、成本控制
5. **阶段4: 需求精炼** - 量化指标、技术方案、质量控制
6. **阶段5: 方案固化** - 完整方案文档、命名规范、开发指令
7. **实施计划** - 分阶段实施步骤
8. **验收标准** - 项目验收标准

## 🔍 技术实现

### 核心模块

- `config.js` - 配置管理
- `api-client.js` - OpenAI API 客户端
- `conversation-manager.js` - 对话历史和上下文管理
- `document-generator.js` - 方案文档生成
- `index.js` - 主程序和 CLI 界面

### 技术栈

- Node.js (ES Modules)
- 原生 fetch API
- 无外部依赖

## 📄 许可证

MIT

## 🤝 贡献

欢迎贡献！请提交 Issue 或 Pull Request。

## 📞 联系方式

- Issue: https://github.com/makur6371/drd-methodology/issues
- Email: 3397023886@qq.com

---

**Made with ❤️ for DRD Methodology**